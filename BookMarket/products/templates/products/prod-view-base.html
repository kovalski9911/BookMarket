{% extends 'base/base.html' %}
{% load static %}
{% load crispy_forms_tags %}

{# вставить переменную #}
{% block title %}
    <title>Информация о {{ object.name }}</title>
{% endblock title %}

{% block head %}
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.3/css/all.css" integrity="sha384-UHRtZLI+pbxtHCWp1t77Bi1L4ZtiqrqD80Kn4Z8NTSRyMA2Fd33n5dQ8lWUE00s/" crossorigin="anonymous">
{% endblock head %}

{% block body %}
    <div class="container">
        <div class="card">
          <div class="card-header">
          <img class="card-img-top" src="{% if book.cover_image %}{{ book.cover_image.url }} {% endif %}" alt="Card image cap">
          </div>
          <div class="card-body">
            <ul class="list-group list-group-flush">
                <li class="list-group-item">
                <h4><i>{{ object.name }}</i></h4>
                <p  class="card-text">{% for author in object.authors.all %}{{ author }}{% endfor %}</p>
                </li>
                {% for q, w in object.get_field.items %}
                    <li class="list-group-item"><b>{{ q }}</b>: {{ w }}</li>
                {% endfor %}
            </ul>
          </div>
          <button type="button" class="btn btn-secondary" onclick="history.go(-1);">
              <i class="fas fa-undo"></i>
              Назад
          </button>
        </div>
    </div>

    {% comment %} комментарии без кастомного тега {% endcomment %}
    <div class="container" align="left">
        <div><h4>Комментарии</h4></div>
        {% for comment in comments %}
            {{ comment.user }}:<br>
            {{ comment }}<br><br>
        {% endfor %}
    <form action="{% url 'comments:comments_create' %}" method="POST" class="card-body">
    {% csrf_token %}
    {{ comments_form|crispy }}
    <button type="submit">добавить</button>
    </form>
    </div>


{% endblock body %}
